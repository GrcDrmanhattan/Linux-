57. 数字序列中某一位的数字

数字以0123456789101112131415…的格式序列化到一个字符序列中。

在这个序列中，第5位（从0开始计数）是5，第13位是1，第19位是4，等等。

请写一个函数求任意位对应的数字。

样例
输入：13

输出：1

-----------------------------------

class Solution {
public:
    int digitAtIndex(int n) {
        n++; // 题目n是从0开始，要加1从1开始
        n--; // 因为一位数有十个，二位数有90个，三位数900，所以要去除一位数的0，使得有9个方便计算
        
        long long i=1,s=9,base=1;// 初始一位数，有9个，从1开始
        
        while(n > i * s)
        {
            n-=i*s;
            i++; // 下一位数
            s*=10; // 每次*10
            base *= 10; 
        }
        
        // 知道是比如属于四位数的第几个数 
        int num = base + (n+i-1)/i - 1;
        int r = n % i ? n%i :i ;// 求出是这个数的十位还是百位等。。 如果整除，就是4位数的最后一位，也就是i位
        // 余数是r ，就把后面的i-r位去除
        // 求i位数的第r位数是多少，可以将i-r位后面的数去掉，最后%10，就是结果
        for(int j=0 ;j <i-r ;++j) num /= 10;
        
        return num % 10;
    }
};

